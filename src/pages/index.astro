---
import Layout from "../layouts/Layout.astro";
import type { PokemonListResponse } from "../interfaces/pokemon-list.response";
import PokemonCard from "../components/PokemonCard.astro";
import Title from "@components/shared/Title.astro";

const response = await fetch(`https://pokeapi.co/api/v2/pokemon/`);

const data = (await response.json()) as PokemonListResponse;
---

<Layout title={"Pokemons consulting bar"}>
	<Title> Listado de Pokémons </Title>
	<hr />
	<section
		aria-label="Listado de Pokémons"
		class="grid grid-cols-1 sm:grid-cols-3 lg:grid-cols-3 gap-4 mt-5"
	>
		{
			data.results.map((pokemon, index) => (
				<PokemonCard pokemon={pokemon} index={index} />
			))
		}
	</section>
</Layout>
